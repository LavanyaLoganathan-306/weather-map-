<!DOCTYPE html>
<html lang="en">
    <link rel="stylesheet" href="style.css">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>weather map</title>
    <link rel="stylesheet"
     href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
       crossorigin="anonymous" 
       referrerpolicy="no-referrer" />
</head>
<body style="background-image: url(rainy-sky-with-dramatic-clouds-photo.jpg); background-size: cover;">
    
    <nav>
        <h1>
            WEATHER MAP
        </h1>
        <ul>
            <i class="fa-solid fa-house"></i>
            <b>
            <li> Home |
            </li>
            <li>
                About us |
            </li>
            
            <li>
                Forecast |
            </li>
          
            <li>
                Current weather |
            </li>
            </b>
        </ul>
    </nav>
    <div id="searchbar">
    
        <b>
            <h2>
                <i class="fa-solid fa-cloud-moon-rain"></i>
        Weather Forecast
        </h2>
        </b>
        <div class="forecast">
        <div  class="bar">
        <input placeholder= "Enter your City name  ?" spellcheck="false" class="name" >
         </div>
    
        <button  class="btn">
            Forecast
        </button>
        </div>
    


        <div class="weather">
            <img src="w3.png" class="weather-icon">
            <h1 class="temp"> 27°C</h1>
            <h2 class="city">Ponmar</h2>
           <div class="details">
                <div class="col1">
                    <img src="humidity.png " class="humidityimg">
                    <p class="humidity "> 50%</p>
                    <p>
                    humidity
                    </p>
                </div>

    
                <div class="col2">
                    <img src="wind.png " class="windimg">
                    <p class="wind">25 km/hr</p>
                    <p >
                    wind speed
                    </p>
                </div>
                </div>
            
        <h2>
            Have a sunny Day  !!
        </h2>
    </div>



    <script>
       

const Apikey="262d53f45eee053c1338493b69c9586d";
const Apiurl="https://api.openweathermap.org/data/2.5/weather?units=metric&q=";

const searchbox= document.querySelector(".name");
const searchbtn= document.querySelector(".btn");
const weatherIcon=document.querySelector(".weather-icon");

async function checkweather(city){

    const response= await fetch(Apiurl + city +`&appid=${Apikey}`);
     
    var data = await response.json();

    console.log(data);

    document.querySelector(".temp").innerHTML=Math.round(data.main.temp)+"°C";
    document.querySelector(".city").innerHTML=data.name;
    document.querySelector(".humidity").innerHTML=data.main.humidity+"%";
    document.querySelector(".wind").innerHTML=data.wind.speed +" km/h";

  if(data.weather[0].main=="Clouds")
  {
    weatherIcon.src="clouds.png";
  }
  else if(data.weather[0].main=="Clear"){
    weatherIcon.src="sunny-3.png";
  }
  else if(data.weather[0].main=="Rain")
  {
    weatherIcon.src="rain.png";
  }
  else if(data.weather[0].main=="Snow"){
 weatherIcon.src="snow.png";
  }
  else if(data.weather[0].main=="Drizzle"){
    weatherIcon.sr="w2.png";
  }
  else if(data.weather[0].main=="Mist"){
    weatherIcon.src="w3.png"
  }
}

searchbtn.addEventListener("click",()=>{
    checkweather(searchbox.value);
}
)

</script>

</body>
</html>
